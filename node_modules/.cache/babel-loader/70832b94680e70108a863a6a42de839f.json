{"remainingRequest":"/Users/usmanfazil/Git_clones/notary-front/node_modules/babel-loader/lib/index.js!/Users/usmanfazil/Git_clones/notary-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/usmanfazil/Git_clones/notary-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/usmanfazil/Git_clones/notary-front/src/components/modals/photoupload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/usmanfazil/Git_clones/notary-front/src/components/modals/photoupload.vue","mtime":1555255620946},{"path":"/Users/usmanfazil/Git_clones/notary-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/usmanfazil/Git_clones/notary-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/usmanfazil/Git_clones/notary-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/usmanfazil/Git_clones/notary-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  data: function data() {\n    return {\n      flag: false,\n      selectedFile: null,\n      filesource: ''\n    };\n  },\n  methods: {\n    clicked: function clicked() {\n      this.flag = !this.flag;\n    },\n    closee: function closee() {\n      this.flag = false;\n    },\n    close: function close() {\n      this.$store.dispatch(\"changephoto\");\n    },\n    onFileSelected: function onFileSelected(event) {\n      var store = this.$store; // let filesource = this.imagesource\n\n      console.log(\"1 sourc change\");\n      alert(this.selectedFile);\n\n      if (event.target.files.length > 0) {\n        this.selectedFile = event.target.files[0];\n        var reader = new FileReader();\n\n        reader.onload = function () {\n          var dataURL = reader.result;\n          console.log(\"1*\");\n          store.dispatch(\"changeimagesource\", dataURL);\n        };\n\n        reader.readAsDataURL(this.selectedFile);\n      }\n    },\n    onupload: function onupload() {\n      var _this = this;\n\n      var close = this.closee;\n      var token = this.token;\n      var store = this.$store;\n      var formData = new FormData();\n      console.log(this.selectedFile);\n      formData.append(\"userfile\", this.selectedFile);\n      axios.post(\"http://localhost:8000/uploadProfilePic\", formData, {\n        headers: {\n          Token: token\n        }\n      }).then(function (res) {\n        console.log(\"new image source \" + res.data);\n        var setdata = res.data;\n        store.dispatch(\"change_userprofilepic\", setdata);\n\n        _this.close();\n      });\n    }\n  },\n  computed: {\n    iamcomputed: function iamcomputed() {\n      return this.$store.getters.getprofilepicture;\n    },\n    token: function token() {\n      return this.$store.getters.getToken;\n    },\n    imgsource: function imgsource() {\n      return this.$store.getters.getimagesource;\n    },\n    profilepic: function profilepic() {\n      return this.$store.getters.change_userprofilepic;\n    }\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["photoupload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA,OAAA,KAAA,MAAA,OAAA;AAGA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAGA,MAAA,UAAA,EAAA;AAHA,KAAA;AAMA,GARA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,WAAA,IAAA,GAAA,CAAA,KAAA,IAAA;AACA,KAHA;AAKA,IAAA,MALA,oBAKA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,KAPA;AASA,IAAA,KATA,mBASA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA;AACA,KAXA;AAcA,IAAA,cAdA,0BAcA,KAdA,EAcA;AACA,UAAA,KAAA,GAAA,KAAA,MAAA,CADA,CAGA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,MAAA,KAAA,CAAA,KAAA,YAAA,CAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,YAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,YAAA;AACA,cAAA,OAAA,GAAA,MAAA,CAAA,MAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,mBAAA,EAAA,OAAA;AACA,SAJA;;AAKA,QAAA,MAAA,CAAA,aAAA,CAAA,KAAA,YAAA;AACA;AACA,KA9BA;AAiCA,IAAA,QAjCA,sBAiCA;AAAA;;AACA,UAAA,KAAA,GAAA,KAAA,MAAA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,UAAA,KAAA,GAAA,KAAA,MAAA;AAEA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,YAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,UAAA,EAAA,KAAA,YAAA;AAEA,MAAA,KAAA,CACA,IADA,CAEA,wCAFA,EAGA,QAHA,EAIA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,KAAA,EAAA;AADA;AADA,OAJA,EASA,IATA,CASA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,sBAAA,GAAA,CAAA,IAAA;AACA,YAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,uBAAA,EAAA,OAAA;;AACA,QAAA,KAAA,CAAA,KAAA;AACA,OAdA;AAgBA;AA1DA,GAVA;AAwEA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,iBAAA;AACA,KAHA;AAIA,IAAA,KAJA,mBAIA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA;AACA,KANA;AAQA,IAAA,SARA,uBAQA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,cAAA;AACA,KAVA;AAYA,IAAA,UAAA,EAAA,sBAAA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,qBAAA;AACA;AAdA,GAxEA;AA0FA,EAAA,OA1FA,qBA0FA,CAEA;AA5FA,CAAA","sourcesContent":["<template>\n  <transition name=\"modal\">\n    <div class=\"modal\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <!-- heading content -->\n         <!-- {{(before==iamcomputed)}} -->\n          \n          <div>\n            <h1 class=\"modal_title\">Profile Photo</h1>\n            <span class=\"btn-cross\" @click=\"close()\">x</span>\n          </div>\n          <hr>\n\n          <form v-if=\"!flag\" class=\"set-height\" enctype=\"multipart/form-data\">\n            <!-- image upload -->\n            <input\n              type=\"file\"\n              class=\"drag_input\"\n              id=\"file-select\"\n              @change=\"onFileSelected($event),clicked()\"\n              accept=\"image/*\"\n            >\n            <label\n              for=\"file-select\"\n              class=\"effect6 text-center\"\n              style=\"height:98%; width:98%;  border:1px solid #005cb9; position:relative; border-radius:2px;\"\n            >\n              <img\n                src=\"../../assets/icons/emptyuser.svg\"\n                width=\"150px\"\n                height=\"150px\"\n                style=\"position:absolute; top:50px; left:130px;\"\n                alt=\"=Upload your picture\"\n              >\n              <img\n                src=\"../../assets/icons/mask.svg\"\n                width=\"70px\"\n                height=\"70px\"\n                style=\" position:absolute; top:98px; left:168px\"\n              >\n\n              <span class=\"snap\">\n                Drag &amp; drop\n                <h6>\n                  your photo here,or\n                  <span class=\"snapblue\">browser</span>\n                </h6>\n              </span>\n\n              <span v-if=\"flag\" class=\"snap\">\n                Drag &amp; drop\n                <h6>\n                  your photo here,or\n                  <span class=\"snapblue\">browser</span>\n                </h6>\n              </span>\n            </label>\n          </form>\n\n          <div v-if=\"flag\" class=\"set-height\">\n            <input\n              type=\"file\"\n              id=\"changepic\"\n              accept=\"image/*\"\n              @change=\"onFileSelected($event)\"\n              class=\"drag_input\"\n            >\n            <label for=\"changepic\" class=\"btn btn-primary changepic\">CHANGE PHOTO</label>\n            <img :src=imgsource id=\"image\" width=\"100%\" height=\"80%\" alt>\n          </div>\n\n          <hr>\n\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-outline-info\" :class=\"{allow:selectedFile==null}\" :disabled=\"selectedFile==null\" @click=\"onupload\">Done</button>\n            <button type=\"button\" class=\"btn btn-primary\"  data-dismiss=\"modal\" @click=\"close\">Cancel</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\n\nimport axios from \"axios\";\n\n\nexport default {\n  data() {\n    return {\n      flag: false,\n      selectedFile: null,\n      filesource:'',\n      \n    };\n  },\n\n  methods: {\n    clicked() {\n      this.flag = !this.flag;\n    },\n\n    closee() {\n      this.flag = false;\n    },\n\n    close() {\n      this.$store.dispatch(\"changephoto\");\n    },\n\n\n    onFileSelected(event) {\n      let store = this.$store;\n\n      // let filesource = this.imagesource\n      console.log(\"1 sourc change\")\n      alert(this.selectedFile)\n      if (event.target.files.length > 0) {\n        this.selectedFile = event.target.files[0];\n        let reader = new FileReader();\n        reader.onload = function() {\n          var dataURL = reader.result;\n          console.log(\"1*\")\n          store.dispatch(\"changeimagesource\", dataURL);\n        };\n        reader.readAsDataURL(this.selectedFile);\n      }\n    },\n\n\n      onupload() {\n      let close = this.closee\n      let token = this.token;\n      let store = this.$store;\n\n      const formData = new FormData();\n      console.log(this.selectedFile)\n      formData.append(\"userfile\", this.selectedFile);\n\n      axios\n        .post(\n          \"http://localhost:8000/uploadProfilePic\",\n          formData,\n          {\n            headers: {\n              Token: token\n            }\n          })\n        .then(res => {\n          console.log(\"new image source \"+res.data)\n          let setdata = res.data; \n          store.dispatch(\"change_userprofilepic\",setdata);\n          this.close()\n        });\n      \n    }\n\n  },\n\n  computed: {\n    iamcomputed(){\n      return this.$store.getters.getprofilepicture \n    },\n    token() {\n      return this.$store.getters.getToken;\n    },\n\n    imgsource(){\n      return this.$store.getters.getimagesource;\n    },\n\n    profilepic: function() {\n      return this.$store.getters.change_userprofilepic;\n    },\n\n  \n  },\n  mounted(){\n    \n  }\n};\n</script>\n\n          <style scoped>\n@import url(\"https://fonts.googleapis.com/css?family=Herr+Von+Muellerhoff|Mrs+Saint+Delafield|Qwigley\");\n@import url(\"https://fonts.googleapis.com/css?family=Allura\");\n\n.modal {\n  display: block;\n  background: rgba(30, 30, 30, 0.5);\n  padding-left: 20%;\n  padding-right: 20%;\n  padding-top: 2%;\n}\n\n.allow{\n  background-color: #d8edfa;\n    border-color: #d8edfa;\n    color: #fff;\n    cursor: not-allowed;\n}\n\nhr {\n  border: 0;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n\n  margin-top: 0%;\n  margin-bottom: 0%;\n}\n\n.modal-content {\n  width: 470px;\n}\n\n.changepic {\n  background-color: #f9f9f9;\n  border-color: #ccc;\n  color: #1e1e1e;\n  font-size: 13px;\n  font-weight: bold;\n}\n\n.modal-header h3 {\n  margin-top: 0;\n  color: #42b983;\n}\n\n.set-margin {\n  margin-right: 5px;\n  background-color: #f6f6f6;\n}\n\n.set-height {\n  height: 350px;\n  padding: 1%;\n  padding-left: 2.5%;\n  position: relative;\n}\n\n.btn-cross {\n  position: absolute;\n  top: 6px;\n  right: 6px;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  color: #868686;\n}\n\n.btn-cross:hover {\n  color: #005cb9;\n}\n\n.modal-body {\n  margin: 20px 10px;\n}\n\n.modal-default-button {\n  float: right;\n}\n\n.modal-enter {\n  opacity: 0;\n}\n\n.modal-leave-active {\n  opacity: 0;\n}\n\n.modal-dialog {\n  margin-left: 20%;\n  margin-top: 2%;\n}\n\n.modal_title {\n  font-size: 25px;\n  line-height: 24px;\n  border-bottom: 1px solid #e9e9e9;\n  overflow: hidden;\n  padding: 20px 24px;\n  position: relative;\n}\n\ninput {\n  border-radius: 2px;\n}\n\n.first-input {\n  padding-left: 1%;\n  width: 40%;\n  float: left;\n}\n\n.second-input {\n  width: 50%;\n  float: right;\n}\n\ninput:focus {\n  border: blue;\n}\n\n.snapblue {\n  color: #005cb9;\n  font-size: 15px;\n}\n\n.heightset {\n  height: 18px;\n}\n\n.displayset {\n  display: block;\n  min-height: 18px;\n  min-width: 18px;\n  position: relative;\n}\n\n.displayset input {\n  margin-left: 50px;\n}\n\n.sign-container {\n  border-left: 2px solid #005cb9;\n  border-radius: 8px;\n  display: block;\n  height: 55px;\n  margin: 4px 0;\n  overflow: visible;\n  position: relative;\n}\n\n.sign-container::before {\n  border-top-left-radius: 8px;\n  border-top-width: 2px;\n  top: -2px;\n}\n\n.effect6:hover {\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;\n}\n\n.effect6:active {\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.1) inset;\n}\n\n.effect6:before,\n.effect6:after {\n  content: \"\";\n  position: absolute;\n  z-index: -1;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);\n  top: 50%;\n  bottom: 0;\n  left: 10px;\n  right: 10px;\n  border-radius: 100px / 10px;\n}\n\n.modal-footer {\n  justify-content: start;\n}\n\n.snap {\n  font-size: 2rem;\n  position: absolute;\n  bottom: 50px;\n  left: 110px;\n  color: #4c4c4c;\n}\n\n.snap:hover {\n  text-decoration-line: underline;\n  color: #005cb9;\n}\n\n.drag_input {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n</style>\n\n\n"],"sourceRoot":"src/components/modals"}]}